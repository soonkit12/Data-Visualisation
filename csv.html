{% extends 'system/layout.html' %}
{% load bootstrap3 %}
{% load crispy_forms_tags %}
{% block content %}

<div class="page-header">
  <h2>{{ title }}</h2>
</div>

{% bootstrap_messages %}


       <meta name="viewport" content="width=device-width, initial-scale=1">
       <meta name="viewport" content="width=device-width, initial-scale=1">
       <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
    
    <style>

.wrap {
  position: relative;
  height : 570px;
  z-index:5;
}

.wrap .side-menu-link {
  left: 20em;
}
.wrap .burger {
  position: relative;
  width: 35px;
  height: 30px;
  left: 10px;
  top: 5px;
  z-index: 500000;
} 
.wrap .burger .burger_inside {
  position: absolute;
  background-color: #222;
  width: 30px;
  height: 5px;
  left: 2.5px;
  -webkit-transition: all 0.5s ease-out;
  -moz-transition: all 0.5s ease-out;
  -ms-transition: all 0.5s ease-out;
  -o-transition: all 0.5s ease-out;
    transition: all 0.5s ease-out;    
  -o-transition: all 0.3s ease-out;
}
.wrap .burger #bgrOne {
  top: 0;
}
.wrap .burger #bgrTwo {
  top: 10px;
}
.wrap .burger #bgrThree {
  top: 20px;
}
.wrap #side-menu {
  position: absolute;
  z-index: -1;
  background: #2F4F4F;
  width: 21em; 
  float: left;
  display: block;
  left: 0;
  height: 590px;
}

.wrap .bodycontent {
  position: absolute;
  right: 0;
  min-width: 400px;
  -webkit-transition: all 0.3s ease-out;
  -moz-transition: all 0.3s ease-out;
  -ms-transition: all 0.3s ease-out;
  -o-transition: all 0.3s ease-out;
  transition: all 0.3s ease-out;   
}
.wrap .bodycontent .top-bar {
  height: 30px;
  background: #ddd;
}
.wrap .bodycontent .content-inner {
  padding: 0;
  margin: 0;
  background: #D3D3D3;
  padding-left: 50px;
  display: block;
  position: absolute;
  height: 560px;
  width: 100%;
}

.wrap ul.accordion {
  width: 100%;
  background: transparent;
}


.wrap ul.accordion .link {
  cursor: pointer;
  display: block;
  padding: 15px 15px 15px 42px;
  color  : #9D9D9D;  
  font-size: 14px; 
  font-weight: 700;
  border-bottom: 1px solid #303030;
  position: relative;
  -webkit-transition: all 0.4s ease;
  -o-transition: all 0.4s ease;
  transition: all 0.4s ease;
}
.wrap ul.accordion li:not(open) last-child .link {
  border-bottom: 0;
}
.wrap ul.accordion li i {
  position: absolute;
  top: 16px;
  left: 12px;
  font-size: 18px;
  color: #999;
  -webkit-transition: all 0.4s ease;
  -o-transition: all 0.4s ease;
  transition: all 0.4s ease;
}
.wrap ul.accordion li i.fa-chevron-down {
  right: 12px;
  left: auto;
  font-size: 16px;
}
.wrap ul.accordion li.open .link {
  color: #FFB266;
}
.wrap ul.accordion li.open i {
  color: #FFB266;
}
.wrap ul.accordion li.open i.fa-chevron-down {
  -webkit-transform: rotate(180deg);
  -ms-transform: rotate(180deg);
  -o-transform: rotate(180deg);
  transform: rotate(180deg);
}
.wrap ul.accordion ul.submenu {
  display: none;
  background: transparent;
  font-size: 14px;
  padding: 0; 
}
.wrap ul.accordion ul.submenu li {
  border-bottom: 1px solid #4b4a5e;
  list-style: none;
}
.wrap ul.accordion ul.submenu li a {
  display: block;
  text-decoration: none;
  color: #d9d9d9;
  padding: 12px;
  padding-left: 42px;
  -webkit-transition: all 0.25s ease;
  -o-transition: all 0.25s ease;
  transition: all 0.25s ease;
}
.wrap ul.accordion ul.submenu li a:hover {
  background: rgba(240, 128, 128, 0.8);
  color: #ffb266;
}
@media screen and (max-width: 768px) {
  .wrap .nav-bar .navbar-brand {
    margin-top: 0;
    padding-left: 0;
  }
  .wrap .side-menu-link {
    display: inline-block;
  }
  .wrap #side-menu #qform {
    position: absolute;
    top: 10px;
  }
  .wrap .bodycontent {
    left: 10;
  }
  .wrap.active .bodycontent {
    left: 21em;
  }
  .wrap.active .bodycontent #bgrOne {
    top: 10px;
    transform: rotate(225deg);
  }
  .wrap.active .bodycontent #bgrTwo {
    opacity: 0;
  }
  .wrap.active .bodycontent #bgrThree {
    top: 10px;
    transform: rotate(315deg);
  }
}
@media screen and (min-width: 769px) {
  .side-menu-link {
    display: none;
  }
  .wrap {
    position: relative;
  }
  .wrap .bodycontent {
    left: 21em;
    right: 0;
  }
}

  .link {
    fill: none;
    stroke: #ccc;
    stroke-width: 2px;
  }

      path {
        stroke: steelblue;
        stroke-width: 1;
        fill: none;
      }

      .axis {
        shape-rendering: crispEdges;
        color: black;
      }
      .x.axis line {
        stroke: #ADFF2F;
      }
      .x.axis .minor {
        stroke-opacity: .5;
      }
      .x.axis path {
        display: none;
      }
      .y.axis line, .y.axis path {
        fill: none;
        stroke: #000;
      }
      
      
      .axis text {
        font-family: sans-serif;
        font-size: 11px;
      }

      .overlay {
        fill: none;
        pointer-events: all;
      }   
      
      
    

  .buttons { 
  width: 50.78%;
  position:absolute;
  left:250px;
  top : 500px;
  border-collapse: collapse;
  background-color: red; 
  }

  #button{
    width:30px;
  }
       
   .area {
  fill:lightsteelblue;
  clip-path: url(#clip);
}

.zoom {
  cursor: move;
  fill: none;
  pointer-events: all;
}

</style>
   


 <script >
  $(function() {
   var accordionActive = false;
  
   $(window).on('resize', function() {
       var windowWidth = $(window).width();
       var $topMenu = $('#top-menu');
       var $sideMenu = $('#side-menu');     
       
       if (windowWidth < 768) {
          if ($topMenu.hasClass("active")) {             
            $topMenu.removeClass("active");
            $sideMenu.addClass("active");
            
            var $ddl = $('#top-menu .movable.dropdown');
            $ddl.detach();
            $ddl.removeClass('dropdown');
            $ddl.addClass('nav-header');
            
            $ddl.find('.dropdown-toggle').removeClass('dropdown-toggle').addClass('link');
            $ddl.find('.dropdown-menu').removeClass('dropdown-menu').addClass('submenu');
                        
            $ddl.prependTo($sideMenu.find('.accordion'));
            $('#top-menu #qform').detach().removeClass('navbar-form').prependTo($sideMenu);
            
            if (!accordionActive) {
               var Accordion2 = function(el, multiple) {
                 this.el = el || {};
                 this.multiple = multiple || false;

                  // Variables privadas
                 var links = this.el.find('.movable .link');
                 // Evento
                 links.on('click', {el: this.el, multiple: this.multiple}, this.dropdown);
                }

              Accordion2.prototype.dropdown = function(e) {
                var $el = e.data.el;
                $this = $(this),
                  $next = $this.next();

                $next.slideToggle();
                $this.parent().toggleClass('open');

                if (!e.data.multiple) {
                  $el.find('.movable .submenu').not($next).slideUp().parent().removeClass('open');
                }
              }    

              var accordion = new Accordion2($('ul.accordion'), false); 
              accordionActive = true;
            }
          }
       }

       else {
          if ($sideMenu.hasClass("active")) {              
            $sideMenu.removeClass('active');
            $topMenu.addClass('active');
            
            var $ddl = $('#side-menu .movable.nav-header');
            $ddl.detach();
            $ddl.removeClass('nav-header');
            $ddl.addClass('dropdown');
            
            $ddl.find('.link').removeClass('link').addClass('dropdown-toggle');
            $ddl.find('.submenu').removeClass('submenu').addClass('dropdown-menu');
            
             $('#side-menu #qform').detach().addClass('navbar-form').appendTo($topMenu.find('.nav'));
            $ddl.appendTo($topMenu.find('.nav'));
          }
       }
   });
  
  /**/
  var $menulink = $('.side-menu-link'),       
      $wrap = $('.wrap');
  
  $menulink.click(function() {    
    $menulink.toggleClass('active');
    $wrap.toggleClass('active');    
    return false;
  });
  
  /*Accordion*/
  var Accordion = function(el, multiple){
    this.el = el || {};
    this.multiple = multiple || false;

    // Variables privadas
    var links = this.el.find('.link');
    // Evento
    links.on('click', {el: this.el, multiple: this.multiple}, this.dropdown);
  }

  Accordion.prototype.dropdown = function(e) {
     var $el = e.data.el;
     $this = $(this),
      $next = $this.next();

    $next.slideToggle();
    $this.parent().toggleClass('open');

    if (!e.data.multiple) {
      $el.find('.submenu').not($next).slideUp().parent().removeClass('open');
    }
  } 

  var accordion = new Accordion($('ul.accordion'), false); 
  
}); 

</script>

<div class="row">
  <div class="col-sm-12">

    <section id="form" class="agv05-diagnostic">

    <div class ="wrap">

 <aside id="side-menu" class="aside" role="navigation">            
        <ul class="nav nav-list accordion">                    
          
           <li class="nav-header">
            <div class="link"><i class="fa fa-lg fa-users"></i>Data Visualization<i class="fa fa-chevron-down"></i></div>
            <ul class="submenu">
              <li><a href="{% url 'system:diagnostic' %}">AGV Mileage Vs Timestamp</a></li>
              <li><a href="{% url 'system:boardtemperature' %}">Board Temperature Vs Timestamp</a></li>
              <li><a href="{% url 'system:lasersensor' %}">Laser Sensor Output Vs Timestamp</a></li>
              <li><a href="{% url 'system:batterycurrent' %}">Battery Current Vs Timestamp</a></li>
            </ul>
          </li>

            <li class="nav-header">
            <div class="link"><i class="fa fa-lg fa-users"></i>Download<i class="fa fa-chevron-down"></i></div>
            <ul class="submenu">
              <li><a href="{% url 'system:csv' %}">CSV</a></li>
            </ul>
          </li>

      </ul>
  </aside>   
  
  <!--Body bodycontent-->
  <div class="bodycontent">
  
   <div class="top-bar">       
      <a href="#menu" class="side-menu-link burger"> 
        <span class='burger_inside' id='bgrOne'></span>
        <span class='burger_inside' id='bgrTwo'></span>
        <span class='burger_inside' id='bgrThree'></span>
      </a>      
    </div>
  
    <section class="content-inner">


       <p>Please specify the time range of diagnostic data to download.</p>
      {% crispy form %}
  

  </section>

  </div>

  </div>
    </section>

  </div>
</div>

{% endblock %}
